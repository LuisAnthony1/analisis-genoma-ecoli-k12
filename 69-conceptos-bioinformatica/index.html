<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Mapa Mental 3D Â· Bioinformatica</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Mapa mental interactivo 3D con 69 conceptos de bioinformatica organizados en 9 bloques tematicos" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />

  <!-- Estilos -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ§¬</text></svg>" />

  <!-- Three.js + SpriteText + 3d-force-graph -->
  <script src="https://unpkg.com/three@0.139.2/build/three.min.js"></script>
  <script src="https://unpkg.com/three-spritetext@1.6.5/dist/three-spritetext.min.js"></script>
  <script src="https://unpkg.com/3d-force-graph@1.73.0/dist/3d-force-graph.min.js"></script>
</head>
<body>
  <div id="app-root">

    <!-- Left panel: Controls -->
    <div id="glass-panel">
      <div>
        <h1>Mapa Mental 3D</h1>
        <p class="subtitle">69 conceptos de bioinformatica en 9 bloques tematicos. Selecciona bloques para explorar relaciones y flujo de informacion genetica.</p>
      </div>

      <div class="controls-row">
        <div class="control-group">
          <h2>Bloques conceptuales</h2>
          <label class="filter-pill select-all-pill" id="select-all-pill">
            <input type="checkbox" id="select-all-check" />
            <span class="label">Seleccionar todo</span>
          </label>
          <div id="filters-container"></div>
        </div>

        <div class="control-group">
          <h2>Buscar concepto</h2>
          <input id="concept-search" class="search-input" type="search" placeholder="Ej: ADN, PCR, BLAST..." list="concepts-datalist" />
          <datalist id="concepts-datalist"></datalist>
        </div>

        <div class="control-group">
          <h2>Todos los conceptos</h2>
          <div id="concepts-list"></div>
        </div>
      </div>
    </div>

    <!-- 3D Graph -->
    <div id="graph-container">
      <div id="3d-graph"></div>
    </div>

    <!-- Bottom left: Navigation panel -->
    <div id="nav-panel" class="nav-panel">
      <div id="nav-block-name" class="nav-block-name"></div>
      <div id="nav-concept-name" class="nav-concept-name"></div>
      <div class="nav-controls">
        <button id="nav-prev" class="nav-btn">Atras</button>
        <span id="nav-counter" class="nav-counter">0 / 0</span>
        <button id="nav-next" class="nav-btn">Siguiente</button>
      </div>
    </div>

    <!-- Right: 3 paneles apilados verticalmente -->
    <div id="right-panels" class="right-panels hidden">
      <!-- Panel 1: DefiniciÃ³n -->
      <aside class="right-card">
        <div class="right-card-header">
          <h2 id="info-title">Selecciona un concepto</h2>
          <button id="info-close" class="info-close-btn" aria-label="Cerrar">&times;</button>
        </div>
        <p id="info-block" class="info-block-label"></p>
        <p id="info-desc" class="info-description">
          Haz clic en un nodo del grafo 3D para ver la definicion completa del concepto.
        </p>
      </aside>

      <!-- Panel 2: Conexiones -->
      <aside class="right-card">
        <h3 class="right-card-title">Conexiones</h3>
        <div id="info-connections" class="info-connections">
          Sin conexiones visibles
        </div>
      </aside>

      <!-- Panel 3: AnalogÃ­a -->
      <aside class="right-card">
        <h3 class="right-card-title">En cristiano</h3>
        <p id="info-analogy" class="info-analogy">
          Selecciona un concepto para ver la explicacion simple.
        </p>
      </aside>
    </div>

  </div>

  <!-- Datos y logica -->
  <script src="data.js"></script>
  <script src="app.js"></script>
</body>
</html>
